!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){"use strict";function o(e,t){var n,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,c=6<arguments.length&&void 0!==arguments[6]?arguments[6]:"/dist/ajax.php",l=7<arguments.length&&void 0!==arguments[7]?arguments[7]:"POST",s=new URLSearchParams(e);"POST"===l?n={method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"},body:s}:"GET"===l&&(c=c+"?"+s,n={method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"}}),fetch(c,n).then((function(e){return"text"==t?e.text():"json"==t?e.json():void 0})).then((function(e){0!=e&&null!==e?null!==o&&o(r,e):null===a||a(i)})).catch((function(e){}))}n.r(t),n.d(t,"ajaxRequest",(function(){return o}))},function(e,t,n){"use strict";var o=function(){var e;return function(){return void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e}}(),r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),a=[];function i(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},o=[],r=0;r<e.length;r++){var c=e[r],s=t.base?c[0]+t.base:c[0],v=n[s]||0,f="".concat(s," ").concat(v);n[s]=v+1;var p=i(f),g={css:c[1],media:c[2],sourceMap:c[3]};-1!==p?(a[p].references++,a[p].updater(g)):a.push({identifier:f,updater:function(e,t){var n,o,r,a;return r=t.singleton?(a=m++,n=d=d||l(t),o=u.bind(null,n,a,!1),u.bind(null,n,a,!0)):(n=l(t),o=function(e,t,n){var o=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}.bind(null,n,t),function(){!function(e){null!==e.parentNode&&e.parentNode.removeChild(e)}(n)}),o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}(g,t),references:1}),o.push(f)}return o}function l(e){var t,o=document.createElement("style"),a=e.attributes||{};if(void 0!==a.nonce||(t=n.nc)&&(a.nonce=t),Object.keys(a).forEach((function(e){o.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(o);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(o)}return o}var s=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function u(e,t,n,o){var r,a,i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;e.styleSheet?e.styleSheet.cssText=s(t,i):(r=document.createTextNode(i),(a=e.childNodes)[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r))}var d=null,m=0;e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=i(n[o]);a[r].references--}for(var l=c(e,t),s=0;s<n.length;s++){var u=i(n[s]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=l}}}},function(e,t,n){e.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var e=function(){return(e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function t(){var e=function(){var e=document.createElement("div");return e.style.cssText="position: fixed; top: 0; height: 100vh; pointer-events: none;",document.documentElement.insertBefore(e,document.documentElement.firstChild),e}(),t=window.innerHeight,n=e.offsetHeight,o=n-t;return function(e){document.documentElement.removeChild(e)}(e),{vh:n,windowHeight:t,offset:o,isNeeded:0!==o,value:0}}function n(){}function o(){var e=t();return e.value=e.offset,e}var r=Object.freeze({noop:n,computeDifference:o,redefineVhUnit:function(){var e=t();return e.value=.01*e.windowHeight,e}});function a(e){return"string"==typeof e&&e.length>0}function i(e){return"function"==typeof e}var c=Object.freeze({cssVarName:"vh-offset",redefineVh:!1,method:o,force:!1,bind:!0,updateOnTouch:!1,onUpdate:n});function l(t){if(a(t))return e({},c,{cssVarName:t});if("object"!=typeof t)return c;var o={force:!0===t.force,bind:!1!==t.bind,updateOnTouch:!0===t.updateOnTouch,onUpdate:i(t.onUpdate)?t.onUpdate:n},l=!0===t.redefineVh;return o.method=r[l?"redefineVhUnit":"computeDifference"],o.cssVarName=a(t.cssVarName)?t.cssVarName:l?"vh":c.cssVarName,o}var s=!1,u=[];try{var d=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",d,d),window.removeEventListener("test",d,d)}catch(o){s=!1}function m(e,t){u.push({eventName:e,callback:t}),window.addEventListener(e,t,!!s&&{passive:!0})}function v(){u.forEach((function(e){window.removeEventListener(e.eventName,e.callback)})),u=[]}function f(e,t){document.documentElement.style.setProperty("--"+e,t.value+"px")}function p(t,n){return e({},t,{unbind:v,recompute:n.method})}return function(e){var t=Object.freeze(l(e)),n=p(t.method(),t);if(!n.isNeeded&&!t.force)return n;if(f(t.cssVarName,n),t.onUpdate(n),!t.bind)return n;function o(){window.requestAnimationFrame((function(){var e=t.method();f(t.cssVarName,e),t.onUpdate(p(e,t))}))}return n.unbind(),m("orientationchange",o),t.updateOnTouch&&m("touchmove",o),n}}()},function(e,t,n){!function(){"use strict";e.exports={polyfill:function(){var e,t,n,o,r,a=window,i=document;function c(e,t){this.scrollLeft=e,this.scrollTop=t}function l(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function s(e,t){return"Y"===t?e.clientHeight+r<e.scrollHeight:"X"===t?e.clientWidth+r<e.scrollWidth:void 0}function u(e,t){var n=a.getComputedStyle(e,null)["overflow"+t];return"auto"===n||"scroll"===n}function d(e){for(;e!==i.body&&!1===function(e){var t=s(e,"Y")&&u(e,"Y"),n=s(e,"X")&&u(e,"X");return t||n}(e);)e=e.parentNode||e.host;return e}function m(e){var n=(o()-e.startTime)/t,r=function(e){return.5*(1-Math.cos(Math.PI*e))}(n=1<n?1:n),i=e.startX+(e.x-e.startX)*r,c=e.startY+(e.y-e.startY)*r;e.method.call(e.scrollable,i,c),i===e.x&&c===e.y||a.requestAnimationFrame(m.bind(a,e))}function v(e,t,r){var l,s,u,d=o(),v=e===i.body?(s=(l=a).scrollX||a.pageXOffset,u=a.scrollY||a.pageYOffset,n.scroll):(s=(l=e).scrollLeft,u=e.scrollTop,c);m({scrollable:l,method:v,startTime:d,startX:s,startY:u,x:t,y:r})}"scrollBehavior"in i.documentElement.style&&!0!==a.__forceSmoothScrollPolyfill__||(e=a.HTMLElement||a.Element,t=468,n={scroll:a.scroll||a.scrollTo,scrollBy:a.scrollBy,elementScroll:e.prototype.scroll||c,scrollIntoView:e.prototype.scrollIntoView},o=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now,r=function(e){return new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(e)}(a.navigator.userAgent)?1:0,a.scroll=a.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?v.call(a,i.body,void 0!==arguments[0].left?~~arguments[0].left:a.scrollX||a.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:a.scrollY||a.pageYOffset):n.scroll.call(a,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:a.scrollX||a.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:a.scrollY||a.pageYOffset))},a.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?n.scrollBy.call(a,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):v.call(a,i.body,~~arguments[0].left+(a.scrollX||a.pageXOffset),~~arguments[0].top+(a.scrollY||a.pageYOffset)))},e.prototype.scroll=e.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var e=arguments[0].left,t=arguments[0].top;v.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");n.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},e.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):n.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},e.prototype.scrollIntoView=function(){var e,t,o;!0!==l(arguments[0])?(t=(e=d(this)).getBoundingClientRect(),o=this.getBoundingClientRect(),e!==i.body?(v.call(this,e,e.scrollLeft+o.left-t.left,e.scrollTop+o.top-t.top),"fixed"!==a.getComputedStyle(e).position&&a.scrollBy({left:t.left,top:t.top,behavior:"smooth"})):a.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):n.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])})}}}()},function(e,t,n){var o=n(1),r=n(5);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){},function(e,t){window.addEventListener("scroll",(function(){var e=window.pageYOffset,t=document.querySelector(".topButton");500<e&&t.classList.remove("hide"),e<500&&t.classList.add("hide")})),document.querySelector(".topButton").addEventListener("click",(function(){window.scroll({top:0,behavior:"smooth"})}),!1),document.querySelectorAll('a[href^="#"').forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=this.getAttribute("href").substring(1),n=document.getElementById(t),o=0;window._site_isMobile&&(o=document.documentElement.clientWidth<1100?46:96);var r=n.getBoundingClientRect().top-o;window.scrollBy({top:r,behavior:"smooth"})}))}))},function(e,t,n){var o=n(0).ajaxRequest,r=document.querySelector(".testme_button");function a(){var e=document.querySelector("#testme_result");e&&e.remove();var t=document.querySelector(".testme_button");t&&(t.hidden=!1)}r&&(r.onclick=function(e){var t,n,r,i,c,l,s=e.target,u=s.closest(".testme_area");a(),u?(t=u.querySelector("[name=testme_id]").value,r=0,(n=u.querySelectorAll(".testme_answer:checked"))&&(r=n.length),(l=(l=u.querySelectorAll(".testme_question"))&&l.length)&&r<l?alert("Вы ответили только на "+r+" вопросов из "+l+".\n\nОтветьте на все вопросы."):(i="",n.forEach((function(e,t){var n=e.value;i+=n+","})),s.hidden=!0,s.insertAdjacentHTML("afterend",'<div id="testme_result"></div>'),(c=new FormData).append("testme_answers",i),c.append("testme_id",t),c.append("task","testresults"),c.append("action","testme"),o(c,"text",(function(e,t){var n=document.querySelector("#testme_result");n&&(n.innerHTML=t)}),null,(function(){alert("Не удалось выполнить операцию"),a()}),null,"/dist/ajax.php","GET"))):alert("Возникла ошибка на странице")});var i=document.querySelector(".testme_result_close");i&&(i.onclick=function(){a()})},function(e,t){document.querySelectorAll(".socialButtons__item").forEach((function(e){e.onclick=function(){return function(e){e.classList.contains("socialButtons__item--mobile")?window.open(e.getAttribute("data-uri")):function(e){var t,n=(screen.height-436)/2,o=(screen.width-626)/2;n<0&&(n=0),o<0&&(o=0),t="top="+n+",left="+o,t+=",height=436,width=626,resizable=no",window.open(e,"displayWindow",t)}(e.getAttribute("data-uri"))}(e)}}))},function(e,t){var n=document.querySelectorAll(".caregoryList__tableTd--name");n&&n.forEach((function(e){e.onclick=function(){return r(e)}}));var o=document.querySelectorAll(".caregoryList__tableTd--id");function r(e){var t=e.textContent,n=e.classList.contains("caregoryList__tableTd--cat")?document.querySelector(".caregoryList__ids--cat"):document.querySelector(".caregoryList__ids--tag");""==!n.innerText&&(t=", "+t),n&&n.insertAdjacentText("beforeend",t)}o&&o.forEach((function(e){e.onclick=function(){return r(e)}}));var a=document.querySelector(".caregoryList__button--clear");a&&(a.onclick=function(){document.querySelector(".caregoryList__ids--cat").innerText="",document.querySelector(".caregoryList__ids--tag").innerText=""});var i=document.querySelector(".caregoryList__button--copyCats");i&&(i.onclick=function(){var e=document.querySelector(".caregoryList__ids--cat").innerText;Clipboard.copy(e)});var c=document.querySelector(".caregoryList__button--copyTags");c&&(c.onclick=function(){var e=document.querySelector(".caregoryList__ids--tag").innerText;Clipboard.copy(e)});var l=document.querySelector("#goiframe");l&&(l.onclick=function(){var e=document.querySelector("#noSandbox"),t=document.querySelector("#sandbox").value,n=document.querySelector("#gamelink").value,o=document.querySelector("#newframe");e.checked?o.removeAttribute("sandbox"):o.setAttribute("sandbox",t),o.setAttribute("src",n)}),window.Clipboard=function(e,t,n){var o;return{copy:function(r){!function(e){(o=t.createElement("textArea")).value=e,t.body.appendChild(o)}(r),function(){var r,a;n.userAgent.match(/ipad|iphone/i)?((r=t.createRange()).selectNodeContents(o),(a=e.getSelection()).removeAllRanges(),a.addRange(r),o.setSelectionRange(0,999999)):o.select()}(),t.execCommand("copy"),t.body.removeChild(o)}}}(window,document,navigator)},function(e,t){var n=document.querySelector(".button--passing"),o=document.querySelector(".videoBlock__blockInner");function r(){var e=document.querySelector(".videoBlock"),t=document.querySelector(".videoBlock__place"),r=document.querySelector(".videoBlock__bg");t&&r&&(r.classList.remove("newlazy"),r.removeAttribute("data-style"),t.innerHTML='<div class="videoBlock__preload"><img class="videoBlock__preloadImg" src="/dist/images/icons/load.svg"></div>'),e&&e.classList.add("videoBlock--empty"),n&&o&&(n.onclick=function(){return null},o.onclick=function(){return null}),window.TUBIA_OPTIONS={container:"video_tubia",publisherId:"1e0b56cf3bea44e8b57a60be7b77a39c",gameId:window._site_pageId,title:window._site_enName,"langCode ":"ru","autoplay ":"yes",onFound:function(){t&&r&&e&&(t.remove(),r.remove(),e.classList.add("videoBlock--play"))},onNotFound:function(){t&&(t.innerHTML='\n\t\t\t\t<svg class="icon icon icon--playVideo videoBlock__icon videoBlock__icon--exit">\n                    <use href="/dist/images/icons/icons.svg?v1#exit" xlink:href="/dist/images/icons/icons.svg?v1#exit"></use>\n                </svg>\n                <div class="videoBlock__text">К сожалению, прохождения пока нет...</div>     \n                '),e&&e.classList.add("videoBlock--none"),n&&(n.style.display="none")}},function(e,t){var n,o=e.getElementsByTagName("script")[0];e.getElementById(t)||((n=e.createElement("script")).id=t,n.src="https://player.tubia.com/libs/gd/gd.js",o.parentNode.insertBefore(n,o))}(document,"tubia-playerjs")}n&&o&&(n.onclick=function(){return r()},o.onclick=function(){return r()})},,,,,function(e,t,n){"use strict";n.r(t),n(4),n(6);var o=n(0);!1===window._site_isLogin&&!0===window._site_postviewsStatus&&window._site_pageId&&function(e){var t=new FormData;t.append("postId",e),Object(o.ajaxRequest)(t,"text",null,null,null,null,"/dist/ajax-postviews.php")}(window._site_pageId);var r=document.querySelector(".searchForm__input"),a=function(e,t){var n,o,r=!1;return function t(){if(r)return n=arguments,void(o=this);e.apply(this,arguments),r=!0,setTimeout((function(){r=!1,n&&(t.apply(o,n),n=o=null)}),1e3)}}((function(e){var t=e.value,n=e.parentElement.parentElement,r=document.querySelector(".searchPlace");if(t.length<=2)s(r);else{var a="2";window._site_isMobile&&(a="1");var l=new FormData;l.append("text",t),l.append("mobile",a),l.append("action","getSearch"),Object(o.ajaxRequest)(l,"text",(function(e,t){var n,o,r,a,c=JSON.parse(t),l=(c.categories?c.categories.length:0)+(c.games?c.games.length:0),u=document.querySelector(".searchPlace");0<l?(u||((u=document.createElement("div")).classList.add("searchPlace"),u.innerHTML='\n                <div class="searchPlace__list"></div><div class="searchPlace__more">Смортеть все результаты <svg class="icon searchPlace__icon">\n                <use href="/dist/images/icons/icons.svg?v1#back" xlink:href="/dist/images/icons/icons.svg?v1#back"></use>\n                </svg></div>\n                ',n=u.querySelector(".searchPlace__more"),o=document.querySelector(".searchForm__button"),n.onclick=function(){return o.click()},e.append(u),i()),(r=u.querySelector(".searchPlace__list")).innerHTML="",c.categories&&c.categories.forEach((function(e){var t;r&&(t='\n                    <a href="'.concat(e.link,'" class="searchPlace__item link">\n                        <img class="searchPlace__img" src="').concat(e.img,'" alt="">\n                        <span class="searchPlace__name">').concat(e.name,'</span>\n                        <span class="searchPlace__lable">Категория</span>\n                    </a>\n                    '),r.insertAdjacentHTML("beforeend",t))})),c.categories&&c.games.forEach((function(e){var t;r&&(t='\n                    <a href="'.concat(e.link,'" class="searchPlace__item link">\n                        <img class="searchPlace__img" src="').concat(e.img,'" alt="">\n                        <span class="searchPlace__name">').concat(e.name,"</span>\n                    </a>\n                    "),r.insertAdjacentHTML("beforeend",t))})),(a=document.querySelector(".header"))&&a.classList.add("header--searchActive"),m()):s(u)}),n,(function(e){s()}),n)}function s(e){var t=0<arguments.length&&void 0!==e?e:null;null===t&&(t=document.querySelector(".searchPlace")),t&&t.remove();var n=document.querySelector(".header");n&&n.classList.remove("header--searchActive"),c()}}));function i(){var e=document.querySelector(".header"),t=document.querySelector(".bgPC");e&&!t&&((t=document.createElement("div")).className="bgPC",t.onclick=l,e.appendChild(t))}function c(){var e=document.querySelector(".bgPC");e&&e.remove()}function l(){var e=document.querySelector(".searchPlace");e&&e.classList.add("hide");var t=document.querySelector(".header");t&&t.classList.remove("header--searchActive"),c()}function s(){var e=document.querySelector(".topHeader__search"),t=document.querySelector(".topHeader__touch--search");t&&(t.innerHTML='<svg class="icon topHeader__icon"> <use href="/dist/images/icons/icons.svg?v1#search" xlink:href="/dist/images/icons/icons.svg?v1#search"></use></svg>'),e&&e.classList.remove("topHeader__search--active"),d()}function u(){var e=document.querySelector(".bgMobile");e?e.classList.add("bgMobile--active"):((e=document.createElement("div")).classList.add("bgMobile"),e.classList.add("bgMobile--active"),document.querySelector(".site").append(e),e.onclick=function(){m()})}function d(){var e=document.querySelector(".bgMobile");e&&e.classList.remove("bgMobile--active")}function m(){var e=document.querySelector(".mobileMenu");e&&e.classList.contains("mobileMenu--active")&&(document.querySelector(".topHeader__touch--menu").innerHTML='<svg class="icon topHeader__icon"><use href="/dist/images/icons/icons.svg?v1#menu" xlink:href="/dist/images/icons/icons.svg?v1#menu"></use></svg>',e.classList.remove("mobileMenu--active"),d())}function v(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)),o}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){var e=document.querySelectorAll(".button--adFav");!function(){var e=k("favposts");e&&(b("favpostsCount",(e=e.split(",")).length),e=JSON.stringify(e),localStorage.setItem("favposts",e),x("favposts"))}(),e&&(e.forEach((function(e){e.onclick=function(){return _(e)}})),e.forEach((function(e){!function(e){var t=e.getAttribute("data-id"),n=localStorage.getItem("favposts");n&&0<=(n=JSON.parse(n)).indexOf(t)&&(e.innerHTML='<span class="button__text">Удалить из</span><svg class="icon icon icon--leftmg icon--button">\n            <use href="/dist/images/icons/icons.svg?v1#hearts" xlink:href="/dist/images/icons/icons.svg?v1#hearts"></use>\n            </svg>',e.classList.remove("button--green"),e.classList.add("button--red"),e.onclick=function(){return h(e)})}(e)})))}function g(){var e=document.querySelector(".userBar__count--love"),t=document.querySelector(".userBar__count--view"),n=k("favpostsCount"),o=k("viewpostsCount");void 0===n&&b("favpostsCount",n=(n=JSON.parse(localStorage.getItem("favposts")))?n.length:0),void 0===o&&(o=(o=JSON.parse(localStorage.getItem("viewposts")))?o.length:0,b("viewpostsCount",n)),e.innerText=n,t.innerText=o}function _(e){var t=e.getAttribute("data-id"),n=localStorage.getItem("favposts");if(!(n=n?JSON.parse(n):[]).includes(t)){if(350<=n.length)return void alert("Достигнуто максимальное количество любимых игр! Чтобы добавить эту - удалите старые игры из любимых");n.push(t),b("favpostsCount",n.length),n=JSON.stringify(n),localStorage.setItem("favposts",n),e.innerHTML='<span class="button__text">Удалить из</span><svg class="icon icon icon--leftmg icon--button">\n        <use href="/dist/images/icons/icons.svg?v1#hearts" xlink:href="/dist/images/icons/icons.svg?v1#hearts"></use>\n        </svg>',e.classList.remove("button--green"),e.classList.add("button--red"),e.onclick=function(){return h(e)},g()}}function h(e){var t,n=e.getAttribute("data-id"),o=localStorage.getItem("favposts");(o=JSON.parse(o))&&Array.isArray(o)&&(0<=(t=o.indexOf(n))&&o.splice(t,1),b("favpostsCount",o.length),o=JSON.stringify(o),localStorage.setItem("favposts",o),e.innerHTML='<span class="button__text">Добавить в</span><svg class="icon icon icon--leftmg icon--button">\n        <use href="/dist/images/icons/icons.svg?v1#hearts" xlink:href="/dist/images/icons/icons.svg?v1#hearts"></use>\n        </svg>',e.classList.add("button--green"),e.classList.remove("button--red"),e.onclick=function(){return _(e)},g())}function b(e,t){q(e,t,{secure:!0,samesite:"strict","max-age":36e9})}r&&r.addEventListener("keyup",(function(){return a(r)})),document.querySelector(".searchForm__input").onfocus=function(){return function(){var e=document.querySelector(".searchPlace");e&&(e.classList.remove("hide"),i());var t=document.querySelector(".header");t&&t.classList.add("header--searchActive"),m()}()},document.querySelector(".topHeader__touch--search").addEventListener("click",(function(){m(),(document.querySelector(".topHeader__search").classList.contains("topHeader__search--active")?s:function(){u();var e=document.querySelector(".topHeader__search"),t=e.querySelector(".searchForm__input");document.querySelector(".topHeader__touch--search").innerHTML='<svg class="icon topHeader__icon"> <use href="/dist/images/icons/icons.svg?v1#exit" xlink:href="/dist/images/icons/icons.svg?v1#exit"></use></svg>',e.classList.add("topHeader__search--active"),t.setAttribute("placeholder","Поиск"),t.focus()})()})),document.querySelector(".topHeader__touch--menu").addEventListener("click",(function(){!function(){s();var e=document.querySelector(".mobileMenu");(e&&e.classList.contains("mobileMenu--active")?m:function(){var e,t,n,o,r,a,i=document.querySelector(".mobileMenu");i||((i=document.createElement("div")).classList.add("mobileMenu"),document.querySelector(".site").append(i),window._site_isMobile?(e=document.querySelector("body"),(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href="/dist/public/mobile-icon.css",t.media="all",e.appendChild(t),n=document.querySelector(".userBar__count--view").textContent,o=document.querySelector(".userBar__count--love").textContent,i.innerHTML='<nav class="mobileMenu__topMenu">\n        <ul class="mobileMenu__items">\n            <li class="mobileMenu__item">\n                <a href="/luchshie-igry-dlya-telefona">\n                    <svg class="icon mobileMenu__itemIcon">\n                    <use href="/dist/images/icons/icons.svg?v1#star" xlink:href="/dist/images/icons/icons.svg?v1#star"></use>\n                    </svg>\n                    Лучшие игры\n                </a>\n            </li>\n            <li class="mobileMenu__item">\n                <a href="/vse-igry-dlya-telefona">\n                    <svg class="icon mobileMenu__itemIcon">\n                    <use href="/dist/images/icons/icons.svg?v1#time" xlink:href="/dist/images/icons/icons.svg?v1#time"></use>\n                    </svg>\n                    Новые игры\n                </a>\n            </li>\n            <li class="mobileMenu__item">\n                <a href="/igry-po-seti">\n                    <svg class="icon mobileMenu__itemIcon">\n                    <use href="/dist/images/icons/icons.svg?v1#planet" xlink:href="/dist/images/icons/icons.svg?v1#planet"></use>\n                    </svg>\n                    По сети\n                </a>\n            </li>\n            <li class="mobileMenu__item">\n                <a href="/view">\n                    <svg class="icon mobileMenu__itemIcon">\n                    <use href="/dist/images/icons/icons.svg?v1#view" xlink:href="/dist/images/icons/icons.svg?v1#view"></use>\n                    </svg>\n                    Вы смотрели\n                    <span class="mobileMenu__counter mobileMenu__counter--view">'.concat(n,'</span>\n                </a>\n            </li>\n            <li class="mobileMenu__item">\n                <a href="/my-games">\n                    <svg class="icon mobileMenu__itemIcon">\n                    <use href="/dist/images/icons/icons.svg?v1#hearts" xlink:href="/dist/images/icons/icons.svg?v1#hearts"></use>\n                    </svg>\n                    Мои игры\n                    <span class="mobileMenu__counter mobileMenu__counter--love">').concat(o,'</span>\n                </a>\n            </li>\n        </ul>\n        </nav>\n        <a class="mobileMenu__title" rel="nofollow" href="/vse-igry-dlya-telefona">\n            <span>Специально для мобильного</span>\n        </a>\n        <nav class="mobileMenu__tags">\n        <div class="mobileMenu__colomn">\n            <a class="link" href="/igry-arkady">\n                <span class="mobileMenu__tag">\n                    <span class="mobileMenu__tagIcon sm-1"></span><span class="mobileMenu__tagText">Аркады</span>\n                </span>\n            </a>\n            <a class="link" href="/igry-gonki">\n                <span class="mobileMenu__tag">\n                    <span class="mobileMenu__tagIcon sm-2"></span><span class="mobileMenu__tagText">Гонки</span>\n                </span>\n            </a>\n            <a class="link" href="/igry-strelyalki">\n                <span class="mobileMenu__tag">\n                    <span class="mobileMenu__tagIcon sm-3"></span><span class="mobileMenu__tagText">Стрелялки</span>\n                </span>\n            </a>\n            <a class="link" href="/igry-klikery">\n                <span class="mobileMenu__tag">\n                    <span class="mobileMenu__tagIcon sm-4"></span><span class="mobileMenu__tagText">Кликеры</span>\n                </span>\n            </a>\n            <a class="link" href="/igry-begalki">\n                <span class="mobileMenu__tag">\n                    <span class="mobileMenu__tagIcon sm-5"></span><span class="mobileMenu__tagText">Бегалки</span>\n                </span>\n            </a>\n        </div>\n        <div class="mobileMenu__colomn">\n            <a class="link" href="/igry-brodilki-priklyucheniya">\n                <span class="mobileMenu__tag">\n                    <span class="mobileMenu__tagIcon sm-6"></span><span class="mobileMenu__tagText">Бродилки</span>\n                </span>\n            </a>\n            <a class="link" href="/igry-draki">\n                <span class="mobileMenu__tag">\n                    <span class="mobileMenu__tagIcon sm-7"></span><span class="mobileMenu__tagText">Драки</span>\n                </span>\n            </a>\n            <a class="link" rel="nofollow" href="/igry-dlya-devochek">\n                <span class="mobileMenu__tag">\n                    <span class="mobileMenu__tagIcon sm-8"></span><span class="mobileMenu__tagText">Девочкам</span>\n                </span>\n            </a>\n            <a class="link" href="/igry-letalki">\n                <span class="mobileMenu__tag">\n                    <span class="mobileMenu__tagIcon sm-9"></span><span class="mobileMenu__tagText">Леталки</span>\n                </span>\n            </a>\n            <a class="link" rel="nofollow" href="/logicheskie-igry">\n                <span class="mobileMenu__tag">\n                    <span class="mobileMenu__tagIcon sm-10"></span><span class="mobileMenu__tagText">Логические</span>\n                </span>\n            </a>\n        </div>\n        </nav>\n        <a rel="nofollow" href="/all" class="mobileMenu__title mobileMenu__title--all">\n        <span>Все категории</span>\n        <span class="mobileMenu__titleIconBlock">\n            <svg class="icon mobileMenu__titleIcon mobileMenu__titleIcon--all">\n                <use href="/dist/images/icons/icons.svg?v1#back" xlink:href="/dist/images/icons/icons.svg?v1#back"></use>\n            </svg>\n        </span>\n        </a>\n        ')):(i.classList.add("mobileMenu--pc"),(r=document.querySelector(".bottomHeader__items"))&&(r=r.cloneNode(!0),i.appendChild(r)),(a=document.querySelector(".sidebar__catMenu"))&&(a=a.cloneNode(!0),i.appendChild(a)))),i.classList.contains("mobileMenu--active")||(document.querySelector(".topHeader__touch--menu").innerHTML='<svg class="icon topHeader__icon"> <use href="/dist/images/icons/icons.svg?v1#exit" xlink:href="/dist/images/icons/icons.svg?v1#exit"></use></svg>',i.classList.add("mobileMenu--active"),u())})()}()})),p(),function(){var e,t,n,o;(function(){var e=k("lposts");e&&(b("viewpostsCount",(e=e.split(",")).length),e=JSON.stringify(e),localStorage.setItem("viewposts",e),x("lposts"))})(),!0===window._site_postviewsStatus&&(e=window._site_pageId,(t=(t=localStorage.getItem("viewposts"))?JSON.parse(t):[]).includes(e)?(0<=(n=t.indexOf(e))&&t.splice(n,1),t.push(e)):(350<=t.length&&(o=t.length-350,o+=1,t=t.slice(o)),t.push(e),b("viewpostsCount",t.length)),t=JSON.stringify(t),localStorage.setItem("viewposts",t),g())}(),g();var y=document.querySelector(".cardsGame__preloader--favposts"),w=document.querySelector(".cardsGame__preloader--viewposts");function S(e,t,n){var r=new FormData;r.append("type","include"),r.append("items",e),r.append("template",n),r.append("action","getGames"),Object(o.ajaxRequest)(r,"text",(function(e,t){e.parentNode.innerHTML=t,p()}),t,(function(e){e.innerText="Возникла ошибка при загрузке, повторите попытку чуть позже."}),t)}function k(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function q(e,t,n){var o=2<arguments.length&&void 0!==n?n:{};(o=f({path:"/"},o)).expires instanceof Date&&(o.expires=o.expires.toUTCString());var r=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var a in o){r+="; "+a;var i=o[a];!0!==i&&(r+="="+i)}document.cookie=r}function x(e){q(e,"",{"max-age":-1})}function L(e){var t=e.getBoundingClientRect();return 0<=t.bottom&&0<=t.right&&t.top-400<=(window.innerHeight||document.documentElement.clientHeight)&&t.left-400<=(window.innerWidth||document.documentElement.clientWidth)}function E(e,t){window.addEventListener?window.addEventListener(e,t):window.attachEvent("on"+e,t)}y&&S(JSON.parse(localStorage.getItem("favposts")).reverse().toString(),y,"fav"),w&&S(JSON.parse(localStorage.getItem("viewposts")).reverse().toString(),w,"view"),E("scroll",C),E("resize",C);var M=[];function F(){M=document.getElementsByClassName("lazy"),C()}function C(){for(var e,t,n,o=0;o<M.length;o++)L(M[o])&&(M[o].getAttribute("data-srcset")&&(e=M[o].getAttribute("data-srcset"),M[o].setAttribute("srcset",e),M[o].getAttribute("data-src")&&(t=M[o].getAttribute("data-src"),M[o].setAttribute("src",t)),M[o].removeAttribute("data-srcset")),M[o].getAttribute("data-src")&&(n=M[o].getAttribute("data-src"),M[o].setAttribute("src",n),M[o].removeAttribute("data-src")));M=Array.prototype.filter.call(M,(function(e){if(e.getAttribute("data-srcset")||e.getAttribute("data-src"))return!0}))}E("scroll",O),E("resize",O);var T=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0==e.toDataURL("image/webp").indexOf("data:image/webp")}(),B=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),A=B?parseInt(B[1]):0,P=[];function O(){for(var e,t=0;t<P.length;t++)L(P[t])&&P[t].getAttribute("data-style")&&(e=P[t].getAttribute("data-style"),P[t].classList.contains("noWebp")||(T||65<=A)&&(e=e.replace(".jpg",".webp").replace("/jpg/","/webp/")),P[t].style.backgroundImage=e,P[t].removeAttribute("data-style"));P=Array.prototype.filter.call(P,(function(e){return e.getAttribute("data-style")}))}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}F(),P=document.getElementsByClassName("newlazy"),O(),document.querySelector(".scroll")&&document.querySelectorAll(".scroll").forEach((function(e){e.addEventListener("scroll",(function(){C(),O()}))}));var j=document.querySelector(".loadmore--loaderInGame"),N=document.querySelector(".loadmore--loaderInCategory");function H(e){var t,n,r=e.getAttribute("data-tag")||"",a=e.getAttribute("data-category")||"",i=e.getAttribute("data-step")||"",c=e.getAttribute("data-not-in")||"";a?(t="category",n=a):r&&(t="tag",n=r);var l=e.parentNode,s=l.querySelectorAll(".cardsGame__item"),u=[];s.forEach((function(e){var t;!e||(t=e.getAttribute("data-id"))&&u.push(t)}));var d=[].concat(function(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(c.split(",")),u);c+=u.toString();var m,v=l.querySelector(".cardsGame__bg");l&&!v&&("",m=d.length<=16?" cardsGame__bgImg--miniMg":" cardsGame__bgImg--bottom",(v=document.createElement("div")).className="cardsGame__bg",v.innerHTML='<img class="cardsGame__bgImg'.concat(m,'" src="/dist/images/icons/load.svg">'),l.appendChild(v));var f=new FormData;f.append("type",t),f.append("id",n),f.append("step",i),f.append("notIn",c),f.append("action","getGames"),Object(o.ajaxRequest)(f,"text",(function(e,t){var n=document.querySelector(".cardsGame__bg");n&&n.remove(),"full"!=String(t).trim()?e.insertAdjacentHTML("beforebegin",t):e.remove()}),e,(function(e){alert("Возникла ошибка при загрузке, повторите попытку чуть позже.");var t=document.querySelector(".cardsGame__bg");t&&t.remove()}),e)}j&&(j.onclick=function(){return H(j)}),N&&(N.onclick=function(){return H(N)});var G=n(3);function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.n(G).a.polyfill();var z=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.size=n.size,this.leftButton=t.querySelector(".sliderScroll__sliderArrow--left"),this.rightButton=t.querySelector(".sliderScroll__sliderArrow--right"),this.srollSlider=t.querySelector(".sliderScroll__slider"),this.leftButton.onclick=function(){return o.scrollLeft(o.srollSlider)},this.rightButton.onclick=function(){return o.scrollRight(o.srollSlider)},this.block=t,window.addEventListener("resize",(function(){o.checkSlider()})),this.srollSlider.addEventListener("scroll",(function(){o.chekScroll()})),setTimeout((function(){o.checkSlider()}),1e3)}return function(e,t,n){t&&R(e.prototype,t)}(e,[{key:"scrollLeft",value:function(e){e.scrollBy({top:0,left:-this.size,behavior:"smooth"})}},{key:"scrollRight",value:function(e){e.scrollBy({top:0,left:this.size,behavior:"smooth"})}},{key:"checkSlider",value:function(){this.srollSlider.scrollWidth<=this.srollSlider.clientWidth?(this.leftButton.style.display="none",this.rightButton.style.display="none"):this.chekScroll()}},{key:"chekScroll",value:function(){0===this.srollSlider.scrollLeft?this.leftButton.style.display="none":this.leftButton.style.display="flex",this.srollSlider.scrollLeft>=this.srollSlider.scrollWidth-this.srollSlider.offsetWidth-3?this.rightButton.style.display="none":this.rightButton.style.display="flex"}}]),e}(),D=document.querySelector(".similarGames");null!==D&&new z(D,{size:"500"});var U=document.querySelectorAll(".sliderScroll");function V(e,t){var n=Number(e.getAttribute("data-id")),o=localStorage.getItem(t);if(o&&(o=JSON.parse(o)).find((function(e){if(e.id===n)return!0})))return!0}function J(e,t){var n,r,a,i=(i=localStorage.getItem(t))?JSON.parse(i):[],c=(new Date).getTime(),l=e.closest(".ratingBlock");l&&(a=Number(l.getAttribute("data-id")),i.find((function(e){if(e.id===a)return!0}))||(n=Number(e.getAttribute("data-id")),r={id:a,time:c,vote:n},i.push(r),i=JSON.stringify(i),localStorage.setItem(t,i),l.classList.remove("ratingBlock--active"),function(e,t,n,r){var a;switch(r){case"rateListCat":a="addCategoryVote";break;case"rateListGame":a="addPostVote";break;default:a=""}var i=new FormData;i.append("num",n),i.append("id",t),i.append("action",a),Object(o.ajaxRequest)(i,"text",(function(e,t){var n=t,o=e.querySelector(".ratingBlock__count");o&&(o.innerText=n);var r,a=e.querySelector(".ratingBlock__total");a&&(r=e.getAttribute("data-total"),r=Number(r)+1,a.innerText=r+" "+function(e,t){return["голос","голоса","голосов"][4<e%100&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}(r)),e.querySelectorAll(".ratingBlock__icon").forEach((function(e){var t=e.getAttribute("data-id");t=Number(t)-.5;Number(n)>=t?e.classList.add("ratingBlock__icon--vote"):e.classList.remove("ratingBlock__icon--vote")}));var i=e.querySelector(".ratingBlock__text");i&&(i.innerText="Спасибо за голос!",i.classList.add("ratingBlock__text--active"))}),e,(function(e){}),null)}(l,a,n,t)))}function W(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function X(){var e=document.querySelector(".loadmore--main");e&&(e.onclick=function(){return $("load")})}null!==U&&U.forEach((function(e){return new z(e,{size:"500"})})),n(7),n(8),n(9),function(){var e=document.querySelector(".ratingBlock--gameCategory");if(e){if(!0===V(e,"rateListCat")){e.classList.remove("ratingBlock--active");var t=e.querySelector(".ratingBlock__text");return t&&(t.classList.add("ratingBlock__text--active"),t.innerText="Спасибо за голос!")}e.querySelectorAll(".ratingBlock__icon").forEach((function(e){e.onclick=function(){return J(e,"rateListCat")}}))}var n=document.querySelector(".ratingBlock--gameItem");if(n){if(!0===V(n,"rateListGame")){n.classList.remove("ratingBlock--active");var o=n.querySelector(".ratingBlock__text");return o&&(o.innerText="Спасибо за голос!")}n.querySelectorAll(".ratingBlock__icon").forEach((function(e){e.onclick=function(){return J(e,"rateListGame")}}))}}(),X();var K=document.querySelector(".gameCategory__filter");function $(e){var t,n=document.querySelector(".cardsGame--main"),r=n.querySelector(".cardsGame__items"),a=n.querySelector(".cardsGame__bg");!r||a||window._site_isMobile||("",t="sort"===e?Number(window._site_maxPosts)<=16?" cardsGame__bgImg--miniMg":" cardsGame__bgImg--top":" cardsGame__bgImg--bottom",(a=document.createElement("div")).className="cardsGame__bg",a.innerHTML='<img class="cardsGame__bgImg'.concat(t,'" src="/dist/images/icons/load.svg">'),r.appendChild(a));var i=document.querySelector(".loadmore--main");window._site_isMobile&&i&&"load"===e&&(i.innerHTML='<img class="loadmore__loader" src="/dist/images/icons/load.svg"><span class="loadmore__textBlock loadmore__textBlock--loader">Загружаем...</span>');var c,l=[];!n||(c=n.querySelectorAll(".cardsGame__item"))&&c.forEach((function(e){var t=Number(e.getAttribute("data-id"));t&&l.push(t)})),l=(l=[].concat(W(l),W(window._site_posts))).join(",");var s=document.querySelector(".filter__item--active"),u="date";s&&(u=s.getAttribute("data-sort")),"load"===e&&(window._site_pageNum=Number(window._site_pageNum)+1);var d="0";!0===window._site_isHome&&(d="1");var m="2";window._site_isMobile&&(m="1");var v=new FormData;v.append("action","loadmore"),v.append("sortBy",u),v.append("reverse","2"),v.append("category",window._site_category),v.append("taxtype",window._site_taxtype),v.append("pageNum",String(window._site_pageNum)),v.append("maxPosts",window._site_maxPosts),v.append("maxPages",window._site_maxPages),v.append("isHome",d),v.append("mobile",m),v.append("type",e),v.append("notInArray",l);var f={place:n,type:e};Object(o.ajaxRequest)(v,"text",(function(e,t){var o,r,a,i,c,l,s,u,d,m;e.place&&((o=n.querySelector(".cardsGame__items")).querySelectorAll(".ads > div").forEach((function(e){return e.innerHTML=""})),(r=document.querySelector(".cardsGame__bg"))&&r.remove(),"sort"===e.type?o&&(o.innerHTML=t):((a=document.querySelector(".loadmore"))&&a.remove(),i=o.innerHTML,i+=t,o.innerHTML=i),"load"===e.type&&(c=document.querySelectorAll(".page-numbers"),(l=document.querySelector(".navigationBlock"))&&c&&(u=c[c.length-1],d=Number(u.innerText),m=u.outerHTML,s=window._site_pageNum<d?'\n\t\t\t\t\t\t\t\t<a class="page-numbers" href="'.concat(document.location,'">1</a>\n\t\t\t\t\t\t\t\t<span class="page-numbers dots">…</span>\n\t\t\t\t\t\t\t\t<span aria-current="page" class="page-numbers current">').concat(window._site_pageNum,'</span>\n\t\t\t\t\t\t\t\t<span class="page-numbers dots">…</span>\n\t\t\t\t\t\t\t\t').concat(m,"\n\t\t\t\t\t\t\t\t"):'\n\t\t\t\t\t\t\t\t<a class="page-numbers" href="'.concat(document.location,'">1</a>\n\t\t\t\t\t\t\t\t<span class="page-numbers dots">…</span>\n\t\t\t\t\t\t\t\t<span aria-current="page" class="page-numbers current">').concat(window._site_pageNum,"</span>\n\t\t\t\t\t\t\t\t"),l.innerHTML=s)),F(),C(),X())}),f,(function(e){alert("Возникла ошибка при загрузке, повторите попытку чуть позже.");var t=document.querySelector(".cardsGame__bg");t&&t.remove()}),null)}K&&K.querySelectorAll(".filter__item").forEach((function(e){e.onclick=function(){return function(e,t){e.classList.contains("filter__item--active")||(t.querySelector(".filter__item--active").classList.remove("filter__item--active"),e.classList.add("filter__item--active"),$("sort"),function(){var e=document.querySelectorAll(".page-numbers");e&&e.forEach((function(e){e.removeAttribute("href"),e.classList.add("page-numbers--noLink")}))}())}(e,K)}})),n(10);var Q=document.getElementById("vk_comments");function Z(){L(Q)&&function(e){var t;removeEventListener("scroll",Z),e.classList.contains("vk_comments--import")&&(e.classList.remove(".vk_comments--import"),(t=document.createElement("script")).src="https://vk.com/js/api/openapi.js?168",document.body.append(t),t.onload=function(){VK&&(VK.init({apiId:3961640,onlyWidgets:!0}),VK.Widgets.Comments("vk_comments",{limit:10,width:"auto",attach:"graffiti",autoPublish:0}))})}(Q)}function ee(e,t,n,o){var r=3<arguments.length&&void 0!==o?o:null,a=null!==r&&void 0!==r.modificator?r.modificator:"",i='\n  <div class="modal__bg"></div>\n  <div class="modal__dialog'.concat(a,'">\n    <div class="modal__content">\n    <div class="modal__header">\n                      <div class="modal__title">').concat(e,'</div>\n                      <div class="modal__close">×</div>\n      </div>\n      <div class="modal__body">\n      ').concat(t,"\n      </div>\n  </div>\n  "),c=document.createElement("div");c.className="modal modal--active",c.innerHTML=i,document.querySelector(".footer").after(c);var l=document.querySelector(".modal__bg"),s=document.querySelector(".modal__close");l.onclick=function(){return te()},s.onclick=function(){return te()},n(r)}function te(){var e=document.querySelector(".modal");e.classList.remove("modal--active"),e.classList.add("modal--unset"),setTimeout((function(){return e.remove()}),300)}function ne(e){!function(e){var t,n;e&&((t=(e=e.cloneNode(!0)).querySelector(".gameContent__sectionTitle"))&&t.remove(),e.classList.add("controls--modal"),(n=document.querySelector(".modal__body"))&&n.appendChild(e))}(e);var t=document.querySelector(".modal__button");t&&(t.onclick=function(){te()})}Q&&!0!==window._site_isMobile&&(E("scroll",Z),Z());var oe,re=document.querySelector(".button--controls");function ae(){!function(){var e=document.createElement("div");e.classList.add("qrBlock"),e.innerHTML='\n            <div class="qrBlock__title">Отсканируйте код, что открыть игру на мобильном или планшете 📱</div>\n            <canvas class="qrBlock__canvas"></canvas>\n    ';var t=e.querySelector(".qrBlock__canvas"),n=document.getElementById("qrCode");function o(){QRCode.toCanvas(t,window.location.href,{width:"200"},(function(e){}))}n?o():((n=document.createElement("script")).src="/dist/public/qrcode.js",n.setAttribute("id","qrCode"),document.querySelector("body").appendChild(n),n.onload=function(){o()},n.onerror=function(){});var r=document.querySelector(".modal__body");r&&r.append(e)}();var e=document.querySelector(".modal__button");e&&(e.onclick=function(){te()})}null!==re&&(oe=document.querySelector(".controls"),re.onclick=function(){return ee("Управление в игре",'<div class="modal__prev"></div>',ne,oe)});var ie,ce=document.querySelector(".button--mobileQR");function le(){!function(){var e=document.querySelector(".modal__body");function t(e,t){document.querySelector(".reportForm__reportBlock").innerHTML='<div class="reportForm__text">Сообщение об ошибке отправлено. Скоро мы все исправим!</div>';var n=document.querySelector(".reportForm__buttonSetForm");n.innerText="Закрыть окно",n.onclick=te}function n(e){}e&&e.insertAdjacentHTML("beforeend",'\n    <div class="noloadModal">\n        <div class="noloadModal__title">Посмотрите на видео, как запустить игру 👇</div>\n        <iframe class="noloadModal__iframe" src="https://www.youtube.com/embed/EykIxLghvVE?rel=0&amp;showinfo=0" allow="autoplay; encrypted-media" allowfullscreen="" width="100%" height="300px" frameborder="0"></iframe>\n        <div class="reportForm">\n            <div class="button reportForm__buttonOpenForm">Нажмите, если игра не заработала</div>\n            <div class="reportForm__place">\n                <div class="reportForm__reportBlock">\n                    <label class="reportForm__lable" for="input-details">Опишите проблему:</label>\n                    <textarea class="reportForm__textarea" id="input-details"></textarea>\n                </div>\n                <div class="button reportForm__buttonSetForm">Сообщить о проблеме</div>\n            </div>\n        </div>\n    </div>\n    '),e.querySelector(".reportForm__buttonOpenForm").onclick=function(){document.querySelector(".reportForm").classList.toggle("reportForm--active")},e.querySelector(".reportForm__buttonSetForm").onclick=function(){return function(){var e,r=document.querySelector(".reportForm__textarea").value;r.length<5?document.querySelector(".reportForm__lable").innerHTML='<label class="reportForm__lable" for="input-details">Опишите проблему: <span class="reportForm__lableAlert">Сообщение слишком короткое, опишите подрбнее!</span></label>':((e=new FormData).append("details",r),e.append("id",window._site_pageId),e.append("action","grep_add_report"),Object(o.ajaxRequest)(e,"json",t,null,n,null))}()}}();var e=document.querySelector(".modal__button");e&&(e.onclick=function(){te()})}null!==ce&&(ie=document.querySelector(".controls"),ce.onclick=function(){return ee("Открыть на мобильном или планшете",'<div class="modal__prev"></div>',ae,ie)});var se=document.querySelector(".button--noLoad");function ue(e){var t,n=document.querySelector(".modal__prev"),o={};n&&("discord"===e&&(o={icon:"discord",text:"Подключайтесь к нашему серверу в Discord! Общайтесь в чате и голосом, играя в любимые игры. Объединяйтесь в группы, знакомьтесь и вместе побеждайте врагов!",button:!0,buttonType:"link",buttonLink:"https://discord.gg/CvESuseH6k",buttonText:"Подключиться к Discord"}),(t=function(e){var t="";return e.button&&"link"===e.buttonType&&(t='<a href="'.concat(e.buttonLink,'" rel="nofollow noopener" target="_blank" class="modalTwoColumnBlock__button button">').concat(e.buttonText,"</a>")),'<div class="modalTwoColumnBlock">\n                <div class="modalTwoColumnBlock__item">\n                    <svg class="icon modalTwoColumnBlock__icon modalTwoColumnBlock__icon--'.concat(e.icon,'">\n                        <use href="/dist/images/icons/icons.svg?v1#').concat(e.icon,'" xlink:href="/dist/images/icons/icons.svg?v1#').concat(e.icon,'"></use>\n                    </svg>\n                </div>\n                <div class="modalTwoColumnBlock__item">\n                    <div class="modalTwoColumnBlock__text">').concat(e.text,"</div>\n                    ").concat(t,"\n                </div>\n            </div>")}(o))&&n.insertAdjacentHTML("afterbegin",t));var r=document.querySelector(".modalTwoColumnBlock__button");r&&(r.onclick=function(){te()});var a=document.querySelector(".modal__button");a&&(a.onclick=function(){te()})}null!==se&&(se.onclick=function(){return ee("Если игра не работает",'<div class="modal__prev"></div>',le,"")});var de=document.querySelector(".userBar__icon--discord");de&&(de.onclick=function(){return ee("Играйте и общайтесь вместе с Discord",'<div class="modal__prev"></div>',ue,"discord")});var me=document.querySelector(".gamePlace__play");me&&(me.onclick=pe);var ve=document.querySelector(".gamePlace__img");ve&&(ve.onclick=pe);var fe=document.querySelector(".button--reload");function pe(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"pc",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,a=window._game_engine,i=window._game_link,c=window._game_ads,l=window._game_scroll,s=window._game_sandbox,u=window._game_newwindow,d=window._game_internal,m=window._game_width,v=window._game_https,f=window._game_alternativeStatus,p=window._game_alternative;function g(e,t){var n=1<arguments.length&&void 0!==t?t:"";i="flash"!==e.engine||e.newwindow?!0===e.https?"https://"+e.link:"http://"+e.link:"/games/"+e.link;var r=!1;!0===window._site_isLogin&&"flash"===e.engine&&!1===f&&(r=!0),"ruffle"===e.engine&&(e.sandbox=!0),m="0"===e.width?"100%":e.width+"px",s=!0===e.sandbox?' sandbox="allow-forms allow-pointer-lock allow-same-origin allow-scripts allow-modals"':"",l=!0===e.scroll?"yes":"no";var a,c="",u="";!0===e.internal&&(c='<param name="allownetworking" value="internal">',u='allownetworking="internal"'),n=n||"","pc"===o?a=document.querySelector(".gamePlace"):(a=document.querySelector("mobileGamePlace"))||((a=document.createElement("div")).classList.add("mobileGamePlace"),document.querySelector("body").appendChild(a));var d,v,p,g,_="",h=document.querySelector(".gamePlace__buttons");!1===e.newwindow?(g="pc"===o?(d="gamePlace__game","gamePlace__gameFrame"):(d="mobileGamePlace__game","mobileGamePlace__gameFrame"),"html"!==e.engine&&"unity"!==e.engine&&"ruffle"!==e.engine||(_='<div id="section_game" class="'.concat(d,'"><iframe class="').concat(g,'" id="framegame" src="').concat(i,'" scrolling="').concat(l,'" width="').concat(m,'" height="100%"').concat(s,' loading="eager" importance="high" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="true" marginwidth="0" marginheight="0" hspace="0" vspace="0" frameborder="0"></iframe>').concat(n,"</div>"),a.innerHTML=_),"flash"===e.engine&&!0!==r&&(_='\n                <div id="section_game" class="'.concat(d,'">\n                    <object class="').concat(g,'" type="application/x-shockwave-flash" data="').concat(i,'" width="100%" height="100%">\n                        <param name="allowScriptAccess" value="sameDomain">\n                        <param id="gamemovie" name="movie" value="').concat(i,'">\n                        ').concat(c,'\n                        <param name="BGCOLOR" value="#FFF">\n                        <param name="quality" value="high">\n                        <param name="wmode" value="direct">\n                        <embed wmode="direct" allowscriptaccess="sameDomain" ').concat(u,' type="application/x-shockwave-flash" src="').concat(i,'" pluginspage="https://www.macromedia.com/go/getflashplayer" width="100%" height="100%">\n                    </object>\n                    ').concat(n,"\n                </div>\n            "),a.innerHTML=_),!0===r&&(v=function(){var e=window.RufflePlayer.newest().createPlayer();e.config={autoplay:"off",polyfills:!1,letterbox:"on",warnOnUnsupportedContent:!0,contextMenu:!1,logLevel:"error",backgroundColor:"#000000"},document.getElementById("section_game").appendChild(e),e.style.width="100%",e.style.height="100%",e.load(i)},_='<div id="section_game" class="'.concat(d,'"></div>'),a.innerHTML=_,(p=document.getElementById("ruffleCode"))?v():((p=document.createElement("script")).src="/dist/public/ruffle.js",p.setAttribute("id","ruffleCode"),document.querySelector("body").appendChild(p),p.onload=function(){v()},p.onerror=function(){}))):!0===e.newwindow&&("pc"===o?function(e,t,n){var o,r,a,i=e.querySelector(".gamePlace__title"),c=e.querySelector(".gamePlace__bg"),l=e.querySelector(".gameItem__img"),s=document.querySelector(".gamePlace__newWindowsBlock");i&&l&&c&&!s&&(o=i.getAttribute("data-name"),r=l.getAttribute("style").replaceAll('"',"'"),a=c.getAttribute("style").replaceAll('"',"'"),s='\n        <div id="section_game" class="gamePlace__game">\n            <div class="gamePlace__newWindowsBlock">\n                <div class="gamePlace__bg newlazy" style="'.concat(a,'"></div>\n                <div class="gamePlace__playBlock">\n                    <a href="').concat(t,'" target="_blank" rel="nofollow noopener noreferrer"><span class="gameItem__img gamePlace__img" style="').concat(r,'"></span></a>\n                    <div class="gamePlace__title gamePlace__title--active" data-name="').concat(o,'"></div>\n                    <a href="').concat(t,'" target="_blank" rel="nofollow noopener noreferrer" class="gamePlace__play gamePlace__play--newWindows button">Открыть в новой вкладке</a>\n                    <div class="gamePlace__text">Эта игра откроется в новой вкладке браузера</div>\n                </div>\n            </div>\n        ').concat(n,"\n        </div>\n        "),e.innerHTML=s)}(a,i,n):window.open(i)),h&&"mobile"!==o&&xe();var b=document.querySelector("#section_game");"undefined"!=typeof adsblockStatus&&b&&!0===adsblockStatus&&"mobile"!==o&&!0===e.ads&&"function"==typeof videoStart&&videoStart()}!0===f&&"null"!==p?(e=JSON.parse(p),"flash"===a&&!0!==n&&null===r&&(r=ge(!0===v&&!1===u?'Flash Player больше не поддерживается большинством современных браузеров, так что игра была заменена на наиболее похожую, не использующую Flash. Сейчас идет активная работа над эмуляцией Flash. Ориентировочно, оригинальную игру можно будет снова запустить в конце 2021 года. Если вы точно уверены, что сможете запустить игру сейчас - нажмите <span onclick="showFlashGame()" class="gamePlace__showFlashGame">сюда</span>.':"Flash Player больше не поддерживается большинством современных браузеров, так что игра была заменена на наиболее похожую, не использующую Flash. Сейчас идет активная работа над эмуляцией Flash. Ориентировочно, оригинальную игру можно будет снова запустить в конце 2021 года."),window.showFlashGame=_e)):e={engine:a,link:i,ads:c,scroll:l,sandbox:s,newwindow:u,internal:d,width:m,https:v},!0===t&&(e.ads=!1),g(e,r)}function ge(e,t){var n='\n                <div class="gamePlace__alertBlock'.concat(1<arguments.length&&void 0!==t?t:"",'">\n                    <div class="gamePlace__alertBlockText">\n                        ').concat(e,'\n                    </div>\n                    <div class="gamePlace__alertBlockIconPlace" onclick="exitGameAlertBlock()">\n                        <svg class="icon icon gamePlace__alertBlockIcon">\n                            <use href="/dist/images/icons/icons.svg?v1#exit" xlink:href="/dist/images/icons/icons.svg?v1#exit"></use>\n                        </svg>\n                    </div>\n                </div>\n            ');return window.exitGameAlertBlock=be,n}function _e(){window._game_alternativeStatus=!1;var e=ge('Flash Player больше не поддерживается большинством современных браузеров, если игра не запускается - <span class="gamePlace__hideFlashGame" onclick="hideFlashGame()">нажмите сюда</span>.'," gamePlace__alertBlock--red");window.hideFlashGame=he,pe(!0,!1,"pc",e)}function he(){pe(window._game_alternativeStatus=!0,!0)}function be(){var e=document.querySelector(".gamePlace__alertBlock");e&&e.remove()}fe&&(fe.onclick=function(){document.querySelector(".gamePlace__game")?pe(!0,!0):pe()});var ye=document.querySelector(".button--fullScreen"),we=document.querySelector(".gamePlace");function Se(){document.cancelFullScreen=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,document.cancelFullScreen(),qe()}function ke(){document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||qe()}function qe(){!function(){var e=document.querySelector(".gamePlace__buttons");e&&e.remove()}();var e=document.querySelector(".gamePlace");e&&e.classList.remove("gamePlace--fullScrean")}function xe(){var e,t,n=document.querySelector(".gamePlace");n&&(n.insertAdjacentHTML("beforeend",'\n        <div class="gamePlace__buttons">\n            <div class="button button--green button--rightmg button--reloadGP">\n                <svg class="icon icon icon--button">\n                    <use href="/dist/images/icons/icons.svg?v1#reload" xlink:href="/dist/images/icons/icons.svg?v1#reload"></use>\n                </svg>\n            </div>\n\t\t\t<div class="button button--red button--fullScreenGP">\n                <svg class="icon icon icon--button">\n                    <use href="/dist/images/icons/icons.svg?v1#fullscreen" xlink:href="/dist/images/icons/icons.svg?v1#fullscreen"></use>\n                </svg>\n\t\t\t</div>\n\t\t</div>\n        '),e=n.querySelector(".button--fullScreenGP"),t=n.querySelector(".button--reloadGP"),e&&t&&(e.onclick=Se,t.onclick=function(){return pe(!0)}))}ye&&we&&(ye.onclick=function(){return function(e){function t(){document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement,document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled}e.addEventListener("webkitfullscreenchange",t),e.addEventListener("mozfullscreenchange",t),e.addEventListener("fullscreenchange",t),e.addEventListener("MSFullscreenChange",t),e.webkitRequestFullScreen?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen(),function(){xe();var e=document.querySelector(".gamePlace");e&&e.classList.add("gamePlace--fullScrean")}()}(we)}),document.addEventListener("fullscreenchange",ke),document.addEventListener("webkitfullscreenchange",ke),document.addEventListener("mozfullscreenchange",ke),document.addEventListener("MSFullscreenChange",ke),window.tunnel=function(e){e()};var Le=n(2),Ee=n.n(Le),Me=document.querySelector(".button--startGame");Me&&(Me.onclick=function(){pe(!0,!0,"mobile"),document.querySelector(".mobileGamePlace__game")&&new Pe({mobileEmbedContainerName:".mobileGamePlace"}).enterFullScreen("")});var Fe={getFullScreen:function(e){var t=e||document.documentElement;return t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen},isInFullScreen:function(){return document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen},enterFullScreen:function(e){var t=this.getFullScreen(e);t&&!document.fullscreenElement&&t.call(e)},closeFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},getMobileUrl:function(e){return e.mobile_url||e.playstore_url||e.appstore_url},deactivateEmbedContainer:function(e){var t=e;t.src="about:blank",t.style.display="none"},addFullScreenListeners:function(e){document.addEventListener("webkitfullscreenchange",e,!1),document.addEventListener("mozfullscreenchange",e,!1),document.addEventListener("fullscreenchange",e,!1),document.addEventListener("MSFullscreenChange",e,!1)},removeFullScreenListeners:function(e){document.removeEventListener("webkitfullscreenchange",e,!1),document.removeEventListener("mozfullscreenchange",e,!1),document.removeEventListener("fullscreenchange",e,!1),document.removeEventListener("MSFullscreenChange",e,!1)},addDeviceOrientationListener:function(e){window.addEventListener("resize",e,!1)},removeDeviceOrientationListener:function(e){window.removeEventListener("resize",e,!1)}},Ce=navigator.userAgent.match(/iPhone|iPad|iPod/i),Te=new URL(window.location.href),Be=!Ce||"true"===Te.searchParams.get("fullscreen");function Ae(e){e&&e.preventDefault()}function Pe(e){this.mobileEmbedContainer=e.mobileEmbedContainer,this.mobileEmbedContainerName=e.mobileEmbedContainerName,this.desktopEmbedContainer=e.desktopEmbedContainer,this.callbacks=e.callbacks,this.bindMethods(),Fe.addFullScreenListeners(this.onFullScreenChange)}function Oe(){var e=Ee()(),t=document.querySelector(".mobileGamePlace");t&&(t.style.height="calc(100vh - ".concat(e.value,"px)"))}Pe.prototype.checkActivateDesktopEmbed=function(){"none"===getComputedStyle(this.desktopEmbedContainer).display?(this.deactivateDesktopEmbedContainer(),this.mode="mobile"):this.mode="desktop"},Pe.prototype.destruct=function(){Fe.removeFullScreenListeners(this.onFullScreenChange)},Pe.prototype.bindMethods=function(){this.exitFullScreen=this.exitFullScreen.bind(this),this.addExitButton=this.addExitButton.bind(this),this.onFullScreenChange=this.onFullScreenChange.bind(this)},Pe.prototype.activateDesktopEmbedContainer=function(){},Pe.prototype.deactivateDesktopEmbedContainer=function(){},Pe.prototype.activateMobileEmbedContainer=function(){this.mobileEmbedContainer.style.display="block"},Pe.prototype.deactivateMobileEmbedContainer=function(){Fe.deactivateEmbedContainer(this.mobileEmbedContainer)},Pe.prototype.enterFullScreen=function(e){this.mobileEmbedContainer=document.querySelector(this.mobileEmbedContainerName),this.mobileUrl=e,this.activateMobileEmbedContainer(),Be&&Fe.getFullScreen()?Fe.enterFullScreen(document.querySelector(".mobileGamePlace")):(location.hash="playgame",this.enterFakeFullScreen())},Pe.prototype.onFullScreenChange=function(){Fe.isInFullScreen()?this.addExitButton(2):(this.removeExitButton(),this.deactivateMobileEmbedContainer(),Pe.prototype.exitFullScreen(),Fe.removeFullScreenListeners(this.onFullScreenChange))},window.onhashchange=function(){Be&&Fe.getFullScreen()||"#playgame"===location.hash||Pe.prototype.exitFullScreen()},Pe.prototype.exitFullScreen=function(){this.mobileEmbedContainer,Be&&Fe.getFullScreen()||this.disableFakeFullScreen(),document.querySelector(".mobileGamePlace")&&document.querySelector(".mobileGamePlace").remove(),this.removeExitButton()},Pe.prototype.addExitButton=function(e){var t=document.createElement("div");t.id="exit-bm",t.className="icon",t.style.color="red",t.style.opacity=.6,t.style.zIndex=2147483648,t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="26px",t.style.height="26px",t.style.cursor="pointer",t.style.fontSize="19px",t.style.borderRadius="0px 0 3px 0",t.style.backgroundColor="#ddd",t.style.paddingTop="3px",t.textContent="X",t.style.textAlign="center",t.style.fontWeight="bold",1==e?t.addEventListener("mousedown",this.hisback):t.addEventListener("mousedown",this.exitFullScreen),document.querySelector(".mobileGamePlace").appendChild(t)},Pe.prototype.removeExitButton=function(){var e=document.getElementById("exit-bm");null!==e&&(e.removeEventListener("mousedown",this.exitFullScreen),e.removeEventListener("mousedown",this.hisback),document.getElementById("exit-bm").remove())},Pe.prototype.enterFakeFullScreen=function(){this.enableFakeFullScreen(),this.addExitButton(1)},Pe.prototype.enableFakeFullScreen=function(){document.addEventListener("touchmove",Ae);var e=Ee()();Fe.addDeviceOrientationListener(Oe),document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden";var t=this.mobileEmbedContainer;t.style.display="block",t.style.position="fixed",t.style.overflow="hidden",t.style.top=0,t.style.left=0,t.style.zIndex=200,t.style.width="100vw",t.style.height="calc(100vh - ".concat(e.value,"px)")},Pe.prototype.disableFakeFullScreen=function(){document.removeEventListener("touchmove",Ae),Fe.removeDeviceOrientationListener(Oe),document.documentElement.style.height="initial",document.documentElement.style.overflow="auto",document.body.style.height="initial",document.body.style.overflow="auto"},Pe.prototype.hisback=function(){Pe.prototype.exitFullScreen(),window.history.back()}}]);